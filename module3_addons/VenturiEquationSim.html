<!doctype html>
<html lang="eng-US">
<head>
    <meta content="HTML5 simulation of the Venturi equation" name="description">
    <title>VenturiEquationSim</title>
    <meta content="fluids Venturi equation flow physics" name="keywords">
    <meta content="Martin Kirby" name="author">
    <meta content="index, follow" name="robots">
    <meta content="1 month" name="revisit-after">
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no" id="extViewportMeta"
          name="viewport">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="width=400" name="viewport">
</head>
<body>
<div class="theWholeThing">
    <div id="canvasboxid">
        <canvas auto; class="image-detail-canvas" height="100" id="mainCanvas" position:absolute; touch-action:
                width="100"></canvas>
    </div>
    <div class="fixed">VenturiEquationSim</div>
    <div id="infocontainerid">
        <div id="first"></div>
        <div class="grid-container">
            <div class="grid-item" style="color:#000;float:left"><br><br><br><br>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;An incompressible fluid passes</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;through a pipe of cross-section area A₁</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;with a speed of v₁...</p><br><br>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;...the fluid then passes into a pipe</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;of a smaller cross-section area A₂.</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;Now the speed is v₂.</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;... and it's pressure is now reduced.</p><br><br>
                <p>&nbsp;&nbsp;&nbsp;There is an equation that relates the pressures,</p>
                <p>&nbsp;&nbsp;&nbsp;densities and velocities of the fluid in each pipe:</p><br><br>
                <p1 style="color:green">&nbsp;&nbsp;&nbsp;The Venturi Equation: (created in 1797)</p1>
                <br><br><br><br>
                <h1 style="color:green">&nbsp;&nbsp;&nbsp;P₁ + ½ρv₁² = P₂ + ½ρv₂²</h1><br>
                <p>&nbsp;&nbsp;&nbsp;Assumption:</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There is no friction or energy loss.</p>
                <p>&nbsp;&nbsp;&nbsp;Notes:</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The pressure at point 1 is kept constant as changes are made.</p>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The pressures shown are guage pressures.</p>
                <p>&nbsp;&nbsp;&nbsp;</p></div>
            <div class="grid-item"><br>
                <p style="color:red"><b>A₁v₁ = A₂v₂</b>&nbsp;&nbsp;&nbsp;&nbsp;Continuity equation</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;A₁ = cross-section area of fluid in pipe 1 (m²)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;A₂ = cross-section area of fluid in pipe 2 (m²)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;v₁ = speed of fluid in pipe 1 (m/s)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;v₂ = speed of fluid in pipe 2 (m/s)</p>
                <p style="color:red"><b>P₁ + ½ρv₁² = P₂ + ½ρv₂²</b>&nbsp;&nbsp;&nbsp;&nbsp;Venturi's equation</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;P₁ = pressure of fluid at point 1 (N/m² or Pa)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;P₂ = pressure of fluid at point 2 (N/m² or Pa)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;ρ = density of the fluid (kg/m³)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;v₁ = speed of fluid in pipe 1 (m/s)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;v₂ = speed of fluid in pipe 2 (m/s)</p>
                <p style="color:red"><b>P₁ = ρgh₁</b></p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;g = acceleration due to gravity (m/s²)</p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;h₁ = height of fluid supported by pressure at point 1 (m)</p>
                <p style="color:red"><b>P₂ = ρgh₂</b></p>
                <p style="color:#000">&nbsp;&nbsp;&nbsp;h₂ = height of fluid supported by pressure a2 (m)</p>
                <p style="color:red"></p><br>
                <p style="color:#00f">"Flow rate" is the volume of fluid passing a point each second:</p>
                <p style="color:#00f"><b>Flow rate = Av</b></p><br>
                <h1 style="color:#8b0000">VenturiEquationSim</h1>
                <p style="color:#000">Download for free from kirbyx.com</p>
                <warnbutton id="realinfoid" onclick="showainfoclicked()" type="warnbutton"><b>Close</b></warnbutton>
                <br>
                <p2 style="color:#000">copyright © Martin Kirby 2024 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;waveaddapp@gmail.com</p2>
                <br><br><br><br></div>
        </div>
    </div>
</div>
<div id="infocontainerid2">
    <div id="first2"></div>
    <div class="grid-container2">
        <div class="grid-item2" style="color:#000;float:left"><br>
            <p1 style="color:red">Examples of uses of the 'Venturi effect':</p1>
            <p>During<a href="https://en.wikipedia.org/wiki/Underway_replenishment">Underway replinishment</a>the
                helmsman of each ship must constantly steer away from the other ship due to the Venturi effect,
                otherwise they will collide.
            <p>
            <p><a href="https://en.wikipedia.org/wiki/Inspirator">Inspirators</a>mix air and flammable gas in<a
                    href="https://en.wikipedia.org/wiki/Grill_(cooking)"></a>grills,<a
                    href="https://en.wikipedia.org/wiki/Gas_stove">gas stoves</a>,<a
                    href="https://en.wikipedia.org/wiki/Bunsen_burner">Bunsen burners</a>and<a
                    href="https://en.wikipedia.org/wiki/Airbrush">airbrushes</a></p>
            <p><a href="https://en.wikipedia.org/wiki/Water_aspirators">Water aspirators</a>produce a partial vacuum
                using the kinetic energy from the faucet water pressure</p>
            <p><a href="https://en.wikipedia.org/wiki/Steam_injector#Vacuum_ejectors">Steam siphons</a>use the kinetic
                energy from the steam pressure to create a partial vacuum</p>
            <p><a href="https://en.wikipedia.org/wiki/Atomizer_nozzle">Atomizers</a>disperse perfume or spray paint
                (i.e. from a spray gun)</p>
            <p><a href="https://en.wikipedia.org/wiki/Carburetor">Carburetors</a>use the effect to suck gasoline into an
                engine's intake air stream</p>
            <p><a href="https://en.wikipedia.org/wiki/Cylinder_head">Cylinder heads</a>in piston engines have multiple
                Venturi areas like the valve seat and the port entrance</p>
            <p><a href="https://en.wikipedia.org/wiki/Wine_aerator">Wine aerators</a>infuse air into wine as it is
                poured into a glass</p>
            <p><a href="https://en.wikipedia.org/wiki/Automated_pool_cleaner">Automated pool cleaners</a>use
                pressure-side water flow to collect sediment and debris</p>
            <p><a href="https://en.wikipedia.org/wiki/Clarinet">Clarinets</a>use a reverse taper to speed the air down
                the tube, enabling better tone, response and intonation</p>
            <p>The<a href="https://en.wikipedia.org/wiki/Leadpipe">leadpipe</a>of a trombone, affecting the timbre</p>
            <p></p>
            <p>&nbsp;&nbsp;&nbsp;</p></div>
        <div class="grid-item2"><p><a href="https://en.wikipedia.org/wiki/Bilge">Bilge</a>water can be emptied from a
            moving boat through a small waste gate in the hull. The air pressure inside the moving boat is greater than
            the water sliding by beneath.</p>
            <p>A<a href="https://en.wikipedia.org/wiki/Diving_regulator">scuba diving regulator</a>uses the Venturi
                effect to assist maintaining the flow of gas once it starts flowing</p>
            <p>In<a href="https://en.wikipedia.org/wiki/Recoilless_rifle"></a>recoilless rifles to decrease the recoil
                of firing</p>
            <p>Race cars utilising<a href="https://en.wikipedia.org/wiki/Ground_effect_(cars)">ground effect</a>to
                increase<a href="https://en.wikipedia.org/wiki/Downforce">downforce</a>and thus become capable of higher
                cornering speeds</p>
            <p>Foam proportioners used to induct<a href="https://en.wikipedia.org/wiki/Fire_fighting_foam">fire fighting
                foam</a>concentrate into fire protection systems</p>
            <p><a href="https://en.wikipedia.org/wiki/Hawa_Mahal">Hawa Mahal</a>of Jaipur, also utilizes the Venturi
                effect, by allowing cool air to pass through, thus making the whole area more pleasant during the high
                temperatures in summer.</p>
            <p>Large cities where wind is forced between buildings - the gap between the Twin Towers of the original<a
                    href="https://en.wikipedia.org/wiki/World_Trade_Center_(1973%E2%80%932001)">World Trade Center</a>was
                an extreme example of the phenomenon, which made the ground level plaza notoriously windswept. In fact,
                some gusts were so high that pedestrian travel had to be aided by ropes.</p>
            <p>In windy mountain passes, resulting in erroneous<a
                    href="https://en.wikipedia.org/wiki/Pressure_altimeter">pressure altimeter</a>readings</p>
            <p>The<a href="https://en.wikipedia.org/wiki/Mistral_wind">mistral</a>wind in southern France increases in
                speed through the Rhone valley.</p>
            <p style="color:green">The above is taken from Wikipedia</p><br>
            <h1 style="color:#8b0000">VenturiEquationSim</h1>
            <p style="color:#000">Download for free from kirbyx.com</p>
            <warnbutton id="realinfoid" onclick="showainfoclicked2()" type="warnbutton"><b>Close</b></warnbutton>
            <br>
            <p2 style="color:#000">copyright © Martin Kirby 2024 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;waveaddapp@gmail.com</p2>
            <br><br></div>
    </div>
</div>
<form action="https://www.paypal.com/donate" method="post" target="_top"><label class="form-control"><input
        name="hosted_button_id" type="hidden" value="2NECQZSMXYCCJ"> <input alt="Donate when online"
                                                                            name="submit"
                                                                            src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" style="border:0;padding:0;width:600%;height:100%"
                                                                            title="PayPal"
                                                                            type="image">
    <img alt="" height="1" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1"></label><br><br></form>
<div class="boxforbigcheckboxes" id="boxforbigcheckboxesid" style="z-index:+1;position:absolute"><label
        class="hello"><input id="makesticktogether" name="checkbox" onclick="conteqnow()" style="color:red;float:left"
                             type="checkbox">&nbsp;Show continuity equation</label><label
        class="hello"><input checked="checked" id="makesticktogether" name="checkbox" onclick="verneqnow()"
                             style="color:red;float:left" type="checkbox">&nbsp;Show Venturi equation</label><label
        class="hello"><input id="makesticktogether" name="checkbox" onclick="heighteqnow()" style="color:red;float:left"
                             type="checkbox">&nbsp;Show height equations</label><label class="hello"><input
        checked="checked" id="makesticktogether" name="checkbox" onclick="Showdimensionsnow()" style="color:red;float:left"
        type="checkbox">&nbsp;Show dimensions</label><label class="hello"><input id="makesticktogether"
                                                                                              name="checkbox"
                                                                                              onclick="Showstreamlinesnow()"
                                                                                              style="color:red;float:left"
                                                                                              type="checkbox">&nbsp;Show
    streamlines</label></div>
<div class="smallbuttons" id="smallbuttonsid" style="z-index:+1;position:absolute">
    <buttonblue id="resetButton" type="button"><b>Reset</b></buttonblue>
    <buttonblue id="slowButton" type="button"><b>Slow</b></buttonblue>
    <buttonblue id="stopButton" type="button"><b>Stop</b></buttonblue>
    <buttonblue id="infoButton" type="button"><b>?</b></buttonblue>
    <buttonblue id="infoButton2" type="button"><b>?</b></buttonblue>
</div>
<div class="boxforleftsliders" id="boxforleftsliderbox"><p id="cvoltext" style="line-height:0">10 m\xB3 =
    1aksjdfhsegment volume</p><bdo dir="ltr"><span id="cvolsliderValue"></span><label for="cvolRange"></label><input
        class="Positionslider" id="cvolRange" max="0.03" min="0.001" step="0.001" type="range" value="0.01"></bdo><br>
    <p id="ratetext" style="line-height:0">10 m\xB3 = 1aksjdfhflow rate</p><bdo dir="ltr"><span
            id="ratesliderValue"></span><label for="rateRange"></label><input class="Positionslider" id="rateRange" max="0.7"
                                                                              min="-0.7" step="0.001"
                                                                              type="range"
                                                                              value="0.6"></bdo><br>
    <p id="densitytext" style="line-height:0">10 kg/m\xB3 = 1aksjdfhflow rate</p><bdo dir="ltr"><span
            id="densitysliderValue"></span><label for="densityRange"></label><input class="Positionslider" id="densityRange" max="1100"
                                                                                    min="900" step="10"
                                                                                    type="range"
                                                                                    value="1000"></bdo><br>
    <p id="gravtext" style="line-height:0">10 N/m\xB2 = 1aksjdfhflow rate</p><bdo dir="ltr"><span
            id="gravsliderValue"></span><label for="gravRange"></label><input class="Positionslider" id="gravRange" max="12" min="8"
                                                                              step="0.2" type="range"
                                                                              value="10"></bdo><br>
    <p id="p1text" style="line-height:0">10 N/m\xB2 = 1aksjdfhflow rate</p><bdo dir="ltr"><span
            id="p1sliderValue"></span><label for="p1Range"></label><input class="Positionslider" id="p1Range" max="45000"
                                                                          min="34000" step="100"
                                                                          type="range" value="38000"></bdo><br>
    <p id="p3text" style="line-height:0">10 N/m\xB2 = 1aksjdfhflow rate</p><bdo dir="ltr"><span
            id="p3sliderValue"></span><label for="p3Range"></label><input class="Positionslider" id="p3Range" max="45000"
                                                                          min="34000" step="100" type="range"
                                                                          value="0000"></bdo><br></div>


<style>
    .image-detail-canvas,div.fixed{-webkit-user-select:none;-moz-user-select:none}body,html{overflow:hidden}#infocontainerid,#infocontainerid2{position:relative;line-height:7px;z-index:-1;opacity:1}.grid-container,.grid-container2{top:2%;width:75%;height:80%;border:4px solid #000;display:grid;grid-template-areas:"aaa bbb";padding:0}#mainCanvas,div.boxforbigcheckboxes{z-index:+1;background-color:transparent}#mainCanvas,div.boxforbigcheckboxes,input[type=checkbox]{background-color:transparent}buttonblue,warnbutton{color:#fff;text-align:center;-webkit-transition:.1s;margin:2px;cursor:pointer}body,div.boxforleftsliders,div.fixed,form{-webkit-touch-callout:none}html{font-family:sans-serif;margin:0;padding:0}body,html{touch-action:auto;overscroll-behavior-y:none;overscroll-behavior-x:none}#mainCanvas{border:0 solid red;touch-action:auto;opacity:1;padding:0;margin:auto;display:block;position:absolute;top:0;bottom:0;left:10%}.image-detail-canvas{max-width:100%!important;max-height:100%!important;z-index:-1}.grid-container,.grid-container2,.grid-item2:first-child,.grid-item:first-child{left:5%;background-color:#f5fffa;z-index:+3}div.fixed{position:fixed;color:green;font-size:1.18vw;top:1.5%;right:10%;width:10%;border:0 solid #73ad21;-ms-user-select:none;user-select:none}div.boxforbigcheckboxes,div.boxforleftsliders,div.smallbuttons{-webkit-tap-highlight-color:transparent;right:1%}body{-webkit-text-size-adjust:none;-ms-text-size-adjust:none;-moz-text-size-adjust:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-drag:none;touch-action:none;font-family:Helvetica,Arial,sans-serif;margin:2vmin}form,warnbutton{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}buttonblue,div.smallbuttons,form{touch-action:auto}:root{--form-control-color:green}*,:after,:before{box-sizing:border-box}p,p4{font-size:1vw}p1{font-size:1.4vw}p2{font-size:.8vw}p3{font-size:4vw}h1{font-size:2vw}form{margin:1vmin;position:absolute;top:.4%;right:5%;line-height:1vmin;user-select:none}.form-control{font-family:system-ui,sans-serif;font-size:1.18vw;line-height:2.1vh;display:grid;grid-template-columns:1.5vmin auto;grid-template-rows:2.5vmin auto;gap:0;cursor:pointer}.form-control+.form-control{margin-top:1%;margin-right:1%}#infocontainerid{margin-left:5%;margin-top:0;padding:0;background-color:#f5fffa}#infocontainerid2{padding:0;background-color:#f5fffa;margin:1vw}.grid-container{line-height:.8vw}.grid-item2:first-child,.grid-item:first-child{grid-area:aaa}.grid-item2:nth-child(2),.grid-item:nth-child(2){background-color:#f5fffa;grid-area:bbb;left:5%;z-index:+3}.grid-container2{line-height:1.3vw}div.boxforbigcheckboxes{touch-action:auto;margin:0;border:0 solid red;position:absolute;font-weight:700;font-size:1.18vw;line-height:1.1vh;bottom:10%;height:20%;width:20%;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:space-around;cursor:pointer}buttonblue:active,buttonblue:hover,warnbutton:active,warnbutton:hover{background-color:#006400}label{display:flex;align-items:center}input[type=checkbox]{-webkit-appearance:none;appearance:none;margin:0;color:currentColor;line-height:1vw;width:3vmin;height:3vmin;border:.27em solid currentColor;border-radius:1.5em;transform:translateY(+.2em);display:grid;place-content:center;cursor:pointer}input[type=checkbox]:hover{background-color:pink;cursor:pointer}input[type=checkbox]::before{content:"";width:1.18vw;height:2.1vh;top:-20px;bottom:-20px;left:-20px;right:-20px;clip-path:polygon(14% 44%,0 65%,50% 100%,100% 16%,80% 0%,43% 62%);transform:scale(0);transform-origin:bottom left;box-shadow:inset 0 0;background-color:green;cursor:pointer}input[type=checkbox]:checked::before{transform:scale(1)}div.smallbuttons{margin:0;padding:0;text-align:center;border:0 solid #00f;width:22%;position:absolute;font-size:6vmin;line-height:1vw;flex-direction:row;bottom:4%;z-index:2}buttonblue{background-color:#d3d3d3;border-radius:1%;border:0 solid #fff;font-size:2vmin;padding:1vmin;width:29%;-moz-transition:.1s;-o-transition:.1s;transition:.1s;box-shadow:2px 4px #000}div.boxforleftsliders,warnbutton{touch-action:auto;font-size:1.18vw}buttonblue:active{box-shadow:0 0 #000;transform:translateY(4px);z-index:+5}warnbutton{background-color:green;border-radius:2%;border:0 solid #fff;line-height:3vh;padding:.25vmin;display:table-cell;vertical-align:middle;height:16%;width:30%;-moz-transition:.1s;-o-transition:.1s;transition:.1s;box-shadow:0 4px gray;user-select:none}warnbutton:active{box-shadow:1px 1px gray;transform:translateY(2px)}div.boxforleftsliders{border:0 solid red;position:fixed;width:20%;top:5%;font-family:sans-serif,Helvetica,sans-serif;font-weight:700;z-index:+1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}input[type=range].Positionslider{line-height:12%;border:2px solid #000;-webkit-appearance:none;height:4vh;width:100%;background-color:#add8e6;margin:0;padding-top:0;padding-bottom:0;direction:ltr;opacity:1;-webkit-transition:.1s;transition:none;cursor:pointer}input[type=range].Positionslider:hover{background-color:#ff0;height:4vh;-webkit-appearance:none;opacity:1}input[type=range].Positionslider::-moz-range-thumb{border:0 solid #000;height:4vh;width:4vh;border-radius:5vh;background:#000;cursor:pointer;-webkit-appearance:none;margin-top:0}input[type=range].Positionslider::-ms-thumb{border:0 solid #000;height:4vh;width:4vh;border-radius:5vh;background:#000;cursor:pointer;-webkit-appearance:none;margin-top:0}input[type=range].Positionslider::-webkit-slider-thumb{border:0 solid #000;height:4vh;width:4vh;border-radius:5vh;background:#000;cursor:pointer;-webkit-appearance:none;margin-top:0}input[type=range].Positionslider::-webkit-slider-runnable-track{width:100%;height:4vh;background:#add8e6;cursor:pointer;opacity:.65;border-radius:0;-webkit-appearance:none;border:0 solid #fff}input[type=range].Positionslider::-ms-track{width:100%;height:4vh;background:#add8e6;cursor:pointer;opacity:.65;border-radius:0;-webkit-appearance:none;border:0 solid #fff}input[type=range].Positionslider::-moz-range-track{width:100%;height:4vh;background:#add8e6;cursor:pointer;opacity:.65;border-radius:0;-webkit-appearance:none;border:0 solid #fff}input[type=range].Positionslider:focus::-webkit-slider-runnable-track{width:100%;height:4vh;background:#add8e6;cursor:pointer;opacity:.65;border-radius:0;-webkit-appearance:none;border:0 solid #fff}input[type=range].Positionslider:focus::-ms-track{width:100%;height:4vh;background:#add8e6;cursor:pointer;opacity:.65;border-radius:0;-webkit-appearance:none;border:0 solid #fff}input[type=range].Positionslider:focus::-moz-range-track{width:100%;height:4vh;background:#add8e6;cursor:pointer;opacity:.65;border-radius:0;-webkit-appearance:none;border:0 solid #fff}
</style>

<script charset="utf-8">
</script>

<script type="text/javascript">

    let developer="Martin Kirby. waveaddapp@gmail.com",licence="copyright 2021 Martin Kirby. All rights reserved.",canvas1=document.getElementById("mainCanvas"),ctx1=canvas1.getContext("2d"),amousedownongraph=!1,bmousedownongraph=!1,cmousedownongraph=!1,dmousedownongraph=!1,alastmousedownongraph=!1,blastmousedownongraph=!1,clastmousedownongraph=!1,dlastmousedownongraph=!1,radius=.7,stop=!1,slowmo=!1,x=0,y=0,h1=0,w1=0,weq=0,heq=0,hvertdonate=0,wvertdonate=0,hg=0,wg=0,fontSize=0,fontBase=0,headlength=10,showvertdonate=!1,xtryMousePos=0,ytryMousePos=0,xtryTouchPos=0,ytryTouchPos=0,mouseIsDown=0,touchcursor=!1,Ypos=.65,startx=0,separation=0,endx=startx+separation,slicecolor="blue",cvolslider=document.getElementById("cvolRange"),rateslider=document.getElementById("rateRange"),densityslider=document.getElementById("densityRange"),gravslider=document.getElementById("gravRange"),p1slider=document.getElementById("p1Range"),p3slider=document.getElementById("p3Range"),flowrate=.6,leftdangletouched=!1,xsep=0,cvol=.01,xs1=0,xs2=0,xs3=0,xs4=0,xs5=0,xs1total=0,xs2total=0,xs3total=0,xs4total=0,xs5total=0,xtick1=0,xtick2=0,xtick3=0,xtick4=0,xtick5=0,tickrate=4e-4,total2frustramvol2=0,total2frustramvol=0,total4frustramvol2=0,total4frustramvol=0,xincrement13=0,xincrement14=0,y2=0,y4=0,pop1=0,pop4=0,go1=!0,go2=!1,go3=!1,go4=!1,go5=!1,ke1=0,ke3=0,x1p=.3,y1p=.1,x2p=.4,y2p=.08,x3p=.6,y3p=.08,x4p=.7,y4p=.2,x5p=1,y5p=y4p,pressure1=38e3,pressure3=1,pressureheight1=0,pressureheight3=0,p1selected=!0,p3selected=!0,deltapressure=pressure3-pressure1,speed1=0,speed3=0,density=1e3,grav=10,alphanum1=(density-700)/650,alphanum2=(density-800)/400,axpos=x1p*w1,aypos=(Ypos+y1p)*w1,bxpos=x2p*w1,bypos=(Ypos+y2p)*w1,cxpos=x3p*w1,cypos=(Ypos+y3p)*w1,dxpos=x4p*w1,dypos=(Ypos+y4p)*w1,showradius=!0,showarea=!0,showspeed=!0,showwidth=!0,showinfo=!1,showinfo2=!1,showverneq=!0,showconteq=!1,showheighteq=!1,showdimensions=!0,showstreamlines=!1,csa1=0,csa3=0,csa5=0,fast1=0,fast3=0,fast5=0,flow1=0,flow3=0,flow5=0;function initialvalues(){xs1=cvol/(Math.PI*y1p*y1p),xs3=cvol/(Math.PI*y3p*y3p),xs5=cvol/(Math.PI*y4p*y4p),go1=!0,go2=!1,go3=!1,go4=!1,go5=!1,leftdangletouched=!0}function showainfoclicked(){!0==(showinfo=!showinfo)&&(document.getElementById("infocontainerid").style.zIndex="+6",document.getElementById("mainCanvas").style.zIndex="-1",document.getElementById("mainCanvas").style.display="none"),!1==showinfo&&(document.getElementById("infocontainerid").style.zIndex="-1",document.getElementById("mainCanvas").style.zIndex="+1",document.getElementById("mainCanvas").style.display="inline")}function showainfoclicked2(){!0==(showinfo2=!showinfo2)&&(document.getElementById("infocontainerid2").style.zIndex="+6",document.getElementById("mainCanvas").style.zIndex="-1",document.getElementById("mainCanvas").style.display="none"),!1==showinfo2&&(document.getElementById("infocontainerid2").style.zIndex="-1",document.getElementById("mainCanvas").style.zIndex="+1",document.getElementById("mainCanvas").style.display="inline")}function getFont(){let t=fontSize/fontBase;return(0|canvas1.width*t)+"px sans-serif"}function htmltextchange(){document.getElementById("cvoltext").innerHTML="<span style='color:Blue;'     >"+toDecimalPrecision(1e3*cvol,4)+" m\xb3 <span style='color:     Blue;'> = segment volume </span>",document.getElementById("ratetext").innerHTML="<span style='color:Blue;'     >"+toDecimalPrecision(10*flowrate,4)+" m\xb3/s <span style='color:     Blue;'> = flow rate </span>",document.getElementById("densitytext").innerHTML="<span style='color:Red;'     >"+toDecimalPrecision(density,4)+" kg/m\xb3 <span style='color:     Red;'> = ρ = density </span>",document.getElementById("gravtext").innerHTML="<span style='color:Blue;'     >"+grav.toFixed(1)+" m/s\xb2  <span style='color:     Blue;'> = g = accn due to gravity </span>",document.getElementById("p1text").innerHTML="<span style='color:Red;'     >"+toDecimalPrecision(pressure1,5)+" N/m\xb2 <span style='color:     Red;'> = P₁ = pressure at 1</span>",document.getElementById("p3text").innerHTML="<span style='color:Red;'     >"+toDecimalPrecision(pressure3,5)+" N/m\xb2 <span style='color:     Red;'> = P₂ = pressure at 2</span>"}function toDecimalPrecision(t,e){return(t=(+t).toPrecision(e)).indexOf("e")>=0&&(t=(+t).toString()),t}function drawArrow(t,e,_,o,s,p,l){ctx1.setLineDash([]);let n=Math.sqrt(Math.pow(e-o,2)+Math.pow(_-s,2));n<=(headlength=.02*w1)&&(headlength=n,p=.2*n);let $=Math.atan2(s-_,o-e);t.save(),t.strokeStyle=l,t.fillStyle=l,t.beginPath(),t.moveTo(e,_),t.lineTo(o,s),t.lineWidth=p,t.stroke(),t.beginPath(),t.moveTo(o,s),t.lineTo(o-headlength*Math.cos($-Math.PI/7),s-headlength*Math.sin($-Math.PI/7)),t.lineTo(o-headlength*Math.cos($+Math.PI/7),s-headlength*Math.sin($+Math.PI/7)),t.lineTo(o,s),t.lineTo(o-headlength*Math.cos($-Math.PI/7),s-headlength*Math.sin($-Math.PI/7)),t.stroke(),t.fill(),t.restore()}function verneqnow(){showverneq=!showverneq}function conteqnow(){showconteq=!showconteq}function heighteqnow(){showheighteq=!showheighteq}function Showdimensionsnow(){showdimensions=!showdimensions}function Showstreamlinesnow(){showstreamlines=!showstreamlines}function mouseUp(){mouseIsDown=0,mouseXY()}function mouseDown(){mouseIsDown=1,mouseXY()}function mouseXY(t){if(!t)var t=event;xtryMousePos=t.pageX-canvas1.offsetLeft,ytryMousePos=t.pageY-canvas1.offsetTop,1==mouseIsDown&&(whereismouse(),ismouseoncircle())}function touchUp(){mouseIsDown=0}function touchDown(){mouseIsDown=1,touchXY()}function touchXY(t){if(!t)var t=event;t.preventDefault(),xtryMousePos=t.targetTouches[0].pageX-canvas1.offsetLeft,ytryMousePos=t.targetTouches[0].pageY-canvas1.offsetTop,1==mouseIsDown&&(whereismouse(),ismouseoncircle())}function whereismouse(){xtryMousePos>axpos-.03*w1&&xtryMousePos<x1p*w1+.03*w1&&ytryMousePos>aypos-.03*w1&&ytryMousePos<aypos+.03*w1&&(amousedownongraph=!0,bmousedownongraph=!1,cmousedownongraph=!1,dmousedownongraph=!1),xtryMousePos>bxpos-.03*w1&&xtryMousePos<bxpos+.03*w1&&ytryMousePos>bypos-.03*w1&&ytryMousePos<bypos+.03*w1&&(amousedownongraph=!1,bmousedownongraph=!0,cmousedownongraph=!1,dmousedownongraph=!1),xtryMousePos>cxpos-.03*w1&&xtryMousePos<cxpos+.03*w1&&ytryMousePos>cypos-.03*w1&&ytryMousePos<cypos+.03*w1&&(amousedownongraph=!1,bmousedownongraph=!1,cmousedownongraph=!0,dmousedownongraph=!1),xtryMousePos>dxpos-.03*w1&&xtryMousePos<dxpos+.03*w1&&ytryMousePos>dypos-.03*w1&&ytryMousePos<dypos+.03*w1&&(amousedownongraph=!1,bmousedownongraph=!1,cmousedownongraph=!1,dmousedownongraph=!0),xtryTouchPos>axpos-.03*w1&&xtryTouchPos<x1p*w1+.03*w1&&ytryTouchPos>aypos-.03*w1&&ytryTouchPos<aypos+.03*w1&&(amousedownongraph=!0,bmousedownongraph=!1,cmousedownongraph=!1,dmousedownongraph=!1),xtryTouchPos>bxpos-.03*w1&&xtryTouchPos<bxpos+.03*w1&&ytryTouchPos>bypos-.03*w1&&ytryTouchPos<bypos+.03*w1&&(amousedownongraph=!1,bmousedownongraph=!0,cmousedownongraph=!1,dmousedownongraph=!1),xtryTouchPos>cxpos-.03*w1&&xtryTouchPos<cxpos+.03*w1&&ytryTouchPos>cypos-.03*w1&&ytryTouchPos<cypos+.03*w1&&(amousedownongraph=!1,bmousedownongraph=!1,cmousedownongraph=!0,dmousedownongraph=!1),xtryTouchPos>dxpos-.03*w1&&xtryTouchPos<dxpos+.03*w1&&ytryTouchPos>dypos-.03*w1&&ytryTouchPos<dypos+.03*w1&&(amousedownongraph=!1,bmousedownongraph=!1,cmousedownongraph=!1,dmousedownongraph=!0)}function ismouseoncircle(){!0==amousedownongraph&&(xtryMousePos<bxpos-.025*w1&&(axpos=xtryMousePos),ytryMousePos>h1*(Ypos+.025)&&ytryMousePos<h1*(Ypos+.2)&&(aypos=ytryMousePos),x1p=axpos/w1,aypos>=bypos&&(y1p=aypos/w1-Ypos),y4p=y1p,y5p=y1p,dypos=aypos,initialvalues()),!0==bmousedownongraph&&(xtryMousePos>axpos+.025*w1&&xtryMousePos<cxpos-.1*w1&&(bxpos=xtryMousePos),ytryMousePos>h1*(Ypos+.058)&&ytryMousePos<h1*(Ypos+.2)&&(cypos=bypos=ytryMousePos),x2p=bxpos/w1,bypos<=aypos&&(y2p=bypos/w1-Ypos),y3p=y2p,initialvalues()),!0==cmousedownongraph&&(xtryMousePos>bxpos+.1*w1&&xtryMousePos<dxpos-.025*w1&&(cxpos=xtryMousePos),ytryMousePos>h1*(Ypos+.058)&&ytryMousePos<h1*(Ypos+.2)&&(bypos=cypos=ytryMousePos),x3p=cxpos/w1,cypos<=aypos&&(y3p=cypos/w1-Ypos),y2p=y3p,initialvalues()),!0==dmousedownongraph&&(xtryMousePos>cxpos+.025*w1&&(dxpos=xtryMousePos),ytryMousePos>h1*(Ypos+.025)&&ytryMousePos<h1*(Ypos+.2)&&(dypos=ytryMousePos),x4p=dxpos/w1,dypos>=bypos&&(y4p=aypos/w1-Ypos),y5p=y4p,y1p=y4p,aypos=dypos,xs4=cvol/(Math.PI*y4p*y4p),initialvalues())}function drawLine(t,e,_,o,s,p,l){ctx1.strokeStyle=s,ctx1.lineWidth=p,ctx1.lineCap=l,ctx1.beginPath(),ctx1.moveTo(t,e),ctx1.lineTo(_,o),ctx1.stroke()}function calcdeltapressure(){speed1=.1*Math.abs(flowrate)/(Math.PI*y1p*y1p),speed3=.1*Math.abs(flowrate)/(Math.PI*y3p*y3p),ke1=.5*density*speed1*speed1,ke3=.5*density*speed3*speed3,htmltextchange()}function firstchunk(){if(!1==leftdangletouched&&.2==flowrate&&.02==cvol&&!1==stop&&!1==slowmo&&(document.getElementById("resetButton").style.background="gray"),(!0==leftdangletouched||.2!=flowrate||.02!=cvol||!0==stop||!0==slowmo)&&(document.getElementById("resetButton").style.background="blue"),htmltextchange(),document.getElementById("p1Range").value=pressure1,document.getElementById("p3Range").value=pressure3,!0==go1){if(go2=!1,go3=!1,go4=!1,go5=!1,fontBase=800,fontSize=25,ctx1.font=getFont(),ctx1.fillStyle="black",!0==slowmo&&(tickrate=1e-4*flowrate/cvol),!0==stop&&(tickrate=0),!1==stop&&!1==slowmo&&(tickrate=4e-4*flowrate/cvol),xtick1>=xs1&&(xtick1=0),xtick1+=xs1*tickrate,xtick2=(cvol-x1p%xs1/xs1)*cvol+cvol*(xtick1/xs1),xtick3=(cvol-((total2frustramvol=Math.PI*(x2p-x1p)*(y1p**2+y1p*y2p+y2p**2)/3)-(total2frustramvol2=Math.PI*xs2total*(y1p**2+y1p*pop1+pop1*pop1)/3))/cvol)*xs3,xtick4=(cvol-(x1p-0)%xs1/xs1)*cvol-total2frustramvol%cvol+(cvol-(x3p-x2p)%xs3/xs3)*cvol+cvol*(xtick1/xs1),xtick5=(cvol-((total4frustramvol=Math.PI*(x4p-x3p)*(y3p**2+y4p*y3p+y4p**2)/3)-(total4frustramvol2=Math.PI*xs4total*(y3p**2+y3p*pop4+pop4*pop4)/3))/cvol)*xs5,ctx1.strokeStyle="red",xs1total=-xs1,y1p>Math.sqrt(cvol/(x1p*Math.PI))){do ctx1.lineWidth=1e-4,ctx1.beginPath(),ctx1.ellipse((xs1total+xtick1)*w1,Ypos*h1,y1p*h1*.15,y1p*h1,0,0,2*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.globalAlpha=alphanum2,ctx1.fillStyle="lightblue",ctx1.fill(),ctx1.globalAlpha=1,ctx1.lineWidth=.003*w1,ctx1.beginPath(),ctx1.ellipse((xs1total+xtick1)*w1,Ypos*h1,y1p*h1*.15,y1p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath(),xs1total+=xs1;while(xs1total+xtick1<=x1p);xs1total+xtick1>=x1p&&(go2=!0)}y1p<=Math.sqrt(cvol/(x1p*Math.PI))&&(xtick1<=x1p&&(ctx1.lineWidth=1e-4,ctx1.beginPath(),ctx1.ellipse(xtick1*w1,Ypos*h1,y1p*h1*.15,y1p*h1,Math.PI,-.5*Math.PI,-1.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.globalAlpha=alphanum2,ctx1.fillStyle="lightblue",ctx1.fill(),ctx1.globalAlpha=1,ctx1.lineWidth=.003*w1,ctx1.beginPath(),ctx1.ellipse(xtick1*w1,Ypos*h1,y1p*h1*.15,y1p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath()),go2=!0)}if(!0==go2){go1=!1,go3=!1,go4=!1,go5=!1,y2=y1p,xincrement13=0,xs2total=0;do xs2total>0&&(ctx1.lineWidth=1e-4*w1,ctx1.beginPath(),ctx1.ellipse((x1p+xs2total)*w1,Ypos*h1,y2*h1*.14,y2*h1,0,0,2*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.globalAlpha=alphanum2,ctx1.fillStyle="lightblue",ctx1.fill(),ctx1.globalAlpha=1,ctx1.lineWidth=.003*w1,ctx1.beginPath(),ctx1.ellipse((x1p+xs2total)*w1,Ypos*h1,y2*h1*.14,y2*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath()),pop1=Math.cbrt(y1p**3-3*(xincrement13+xtick2)*(y1p-y2p)/(Math.PI*(x2p-x1p))),xs2total=3*(xincrement13+xtick2)/(Math.PI*(y1p**2+y1p*pop1+pop1*pop1)),xincrement13+=cvol,x2p-x1p!=0&&(y2=y1p+xs2total*((y2p-y1p)/(x2p-x1p))),xs2total>=x2p-x1p&&(go3=!0);while(xs2total<=x2p-x1p)}if(!0==go3&&xs2total>=x2p-x1p){if(go1=!1,go2=!1,go4=!1,go5=!1,(xs3total=0)+xtick3<=x3p-x2p)do ctx1.lineWidth=1e-4,ctx1.beginPath(),ctx1.ellipse((x2p+xs3total+xtick3)*w1,Ypos*h1,y3p*h1*.13,y3p*h1,0,0,2*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.globalAlpha=alphanum2,ctx1.fillStyle="lightblue",ctx1.fill(),ctx1.globalAlpha=1,ctx1.lineWidth=.003*w1,ctx1.beginPath(),ctx1.ellipse((x2p+xs3total+xtick3)*w1,Ypos*h1,y3p*h1*.13,y3p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath(),xs3total+=xs3,ctx1.fillStyle="lightBlue";while(xs3total+xtick3<=x3p-x2p);xs3total+xtick3>=x3p-x2p&&(go4=!0)}if(!0==go4&&xs2total>=x2p-x1p){go1=!1,go2=!1,go3=!1,go5=!1,y4=y4p,xincrement14=0,xs4total=0,y4=y4p,xincrement14=0,xs4total=0;do xs4total>0&&(ctx1.lineWidth=1e-4,ctx1.beginPath(),ctx1.ellipse((x3p+xs4total)*w1,Ypos*h1,y4*h1*.12,y4*h1,0,0,2*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.globalAlpha=alphanum2,ctx1.fillStyle="lightblue",ctx1.fill(),ctx1.globalAlpha=1,ctx1.lineWidth=.003*w1,ctx1.beginPath(),ctx1.ellipse((x3p+xs4total)*w1,Ypos*h1,y4*h1*.12,y4*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath()),pop4=Math.cbrt(y3p**3-3*(xincrement14+xtick4)*(y3p-y4p)/(Math.PI*(x4p-x3p))),xs4total=3*(xincrement14+xtick4)/(Math.PI*(y3p**2+y3p*pop4+pop4*pop4)),xincrement14+=cvol,x4p-x3p!=0&&(y4=y3p+xs4total*((y4p-y3p)/(x4p-x3p))),xs4total>=x4p-x3p&&(go5=!0);while(xs4total<=x4p-x3p)}if(!0==go5&&xs4total>=x4p-x3p){if(go1=!1,go2=!1,go3=!1,go4=!1,(xs5total=0)+xtick5<=x5p-x4p)do ctx1.lineWidth=1e-4,ctx1.beginPath(),ctx1.ellipse((x4p+xs5total+xtick5)*w1,Ypos*h1,y4p*h1*.11,y4p*h1,0,0,2*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.globalAlpha=alphanum2,ctx1.fillStyle="lightblue",ctx1.fill(),ctx1.globalAlpha=1,ctx1.lineWidth=.003*w1,ctx1.beginPath(),ctx1.ellipse((x4p+xs5total+xtick5)*w1,Ypos*h1,y4p*h1*.11,y4p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath(),xs5total+=xs5;while(xs5total+xtick5<=x5p-x4p+5*xs5);xs5total+xtick5>=x5p-x4p&&(go1=!0)}if(!0==showdimensions&&(ctx1.textBaseline="bottom",!0==showwidth&&(xs1<x1p&&(fontBase=800,fontSize=16,ctx1.font=getFont(),ctx1.fillStyle="black",ctx1.textAlign="center",ctx1.fillText(toDecimalPrecision(10*xs1,4)+" m",x1p/2*w1,(Ypos+y1p-.035)*h1),ctx1.fillStyle="lightblue",ctx1.strokeStyle="black",ctx1.lineWidth=.002*w1,ctx1.beginPath(),ctx1.moveTo((x1p/2-xs1/2)*w1,(Ypos+y1p)*h1),ctx1.lineTo((x1p/2-xs1/2)*w1,(Ypos+y1p-.02)*h1),ctx1.closePath(),ctx1.stroke(),ctx1.beginPath(),ctx1.moveTo((x1p/2+xs1/2)*w1,(Ypos+y1p)*h1),ctx1.lineTo((x1p/2+xs1/2)*w1,(Ypos+y1p-.02)*h1),ctx1.stroke(),ctx1.strokeStyle="red",ctx1.fillStyle="lightBlue",xs1>=.04&&(drawArrow(ctx1,(x1p/2-xs1/2)*w1,(Ypos+y1p-.02)*h1,(x1p/2+xs1/2)*w1,(Ypos+y1p-.02)*h1,.003*w1,"black"),drawArrow(ctx1,(x1p/2+xs1/2)*w1,(Ypos+y1p-.02)*h1,(x1p/2-xs1/2)*w1,(Ypos+y1p-.02)*h1,.003*w1,"black")),xs1<.04&&(drawArrow(ctx1,(x1p/2-xs1/2-.05)*w1,(Ypos+y1p-.02)*h1,(x1p/2-xs1/2)*w1,(Ypos+y1p-.02)*h1,.003*w1,"black"),drawArrow(ctx1,(x1p/2+xs1/2+.05)*w1,(Ypos+y1p-.02)*h1,(x1p/2+xs1/2)*w1,(Ypos+y1p-.02)*h1,.003*w1,"black"))),xs3<x3p-x2p&&(fontBase=800,fontSize=16,ctx1.font=getFont(),ctx1.fillStyle="black",ctx1.textAlign="center",ctx1.fillText(toDecimalPrecision(10*xs3,4)+" m",(x2p+x3p)/2*w1,(Ypos+y3p-.035)*h1),ctx1.fillStyle="lightblue",ctx1.strokeStyle="black",ctx1.lineWidth=.002*w1,ctx1.beginPath(),ctx1.moveTo(((x2p+x3p)/2-xs3/2)*w1,(Ypos+y3p)*h1),ctx1.lineTo(((x2p+x3p)/2-xs3/2)*w1,(Ypos+y3p-.02)*h1),ctx1.closePath(),ctx1.stroke(),ctx1.beginPath(),ctx1.moveTo(((x2p+x3p)/2+xs3/2)*w1,(Ypos+y3p)*h1),ctx1.lineTo(((x2p+x3p)/2+xs3/2)*w1,(Ypos+y3p-.02)*h1),ctx1.stroke(),ctx1.strokeStyle="red",ctx1.fillStyle="lightBlue",xs3>=.04&&(drawArrow(ctx1,((x2p+x3p)/2-xs3/2)*w1,(Ypos+y3p-.02)*h1,((x2p+x3p)/2+xs3/2)*w1,(Ypos+y3p-.02)*h1,.003*w1,"black"),drawArrow(ctx1,((x2p+x3p)/2+xs3/2)*w1,(Ypos+y3p-.02)*h1,((x2p+x3p)/2-xs3/2)*w1,(Ypos+y3p-.02)*h1,.003*w1,"black")),xs3<.04&&(drawArrow(ctx1,((x2p+x3p)/2-xs3/2-.05)*w1,(Ypos-y3p-.02)*h1,((x2p+x3p)/2-xs3/2)*w1,(Ypos-y3p-.02)*h1,.003*w1,"black"),drawArrow(ctx1,((x2p+x3p)/2+xs3/2+.05)*w1,(Ypos-y3p-.02)*h1,((x2p+x3p)/2+xs3/2)*w1,(Ypos-y3p-.02)*h1,.003*w1,"black"))),xs5<x5p-x4p&&(fontBase=800,fontSize=16,ctx1.font=getFont(),ctx1.fillStyle="black",ctx1.textAlign="center",ctx1.fillText(toDecimalPrecision(10*xs5,4)+" m",(x5p+x4p)/2*w1,(Ypos+y5p-.035)*h1),ctx1.fillStyle="lightblue",ctx1.strokeStyle="black",ctx1.lineWidth=.002*w1,ctx1.beginPath(),ctx1.moveTo(((x5p+x4p)/2-xs5/2)*w1,(Ypos+y5p)*h1),ctx1.lineTo(((x5p+x4p)/2-xs5/2)*w1,(Ypos+y5p-.02)*h1),ctx1.closePath(),ctx1.stroke(),ctx1.beginPath(),ctx1.moveTo(((x5p+x4p)/2+xs5/2)*w1,(Ypos+y5p)*h1),ctx1.lineTo(((x5p+x4p)/2+xs5/2)*w1,(Ypos+y5p-.02)*h1),ctx1.stroke(),ctx1.strokeStyle="red",ctx1.fillStyle="lightBlue",xs5>=.04&&(drawArrow(ctx1,((x5p+x4p)/2-xs5/2)*w1,(Ypos+y5p-.02)*h1,((x5p+x4p)/2+xs5/2)*w1,(Ypos+y5p-.02)*h1,.003*w1,"black"),drawArrow(ctx1,((x5p+x4p)/2+xs5/2)*w1,(Ypos+y5p-.02)*h1,((x5p+x4p)/2-xs5/2)*w1,(Ypos+y5p-.02)*h1,.003*w1,"black")),xs5<.04&&(drawArrow(ctx1,((x5p+x4p)/2-xs5/2-.05)*w1,(Ypos+y5p-.02)*h1,((x5p+x4p)/2-xs5/2)*w1,(Ypos+y5p-.02)*h1,.003*w1,"black"),drawArrow(ctx1,((x5p+x4p)/2+xs5/2+.05)*w1,(Ypos+y5p-.02)*h1,((x5p+x4p)/2+xs5/2)*w1,(Ypos+y5p-.02)*h1,.003*w1,"black")))),ctx1.lineWidth=.004*w1,ctx1.strokeStyle="green",ctx1.beginPath(),x1p>.31&&(ctx1.moveTo(x1p*w1/2,(Ypos+y1p+.008)*h1),ctx1.lineTo(x1p*w1/2,(Ypos+y1p+.03)*h1)),x1p<=.31&&(ctx1.moveTo(.28*w1/2,(Ypos+y1p+.008)*h1),ctx1.lineTo(.28*w1/2,(Ypos+y1p+.03)*h1)),ctx1.stroke(),ctx1.beginPath(),ctx1.moveTo((x3p+x2p)*w1/2,(Ypos+y3p+.008)*h1),ctx1.lineTo((x3p+x2p)*w1/2,(Ypos+y3p+.03)*h1),ctx1.stroke(),ctx1.beginPath(),ctx1.moveTo((x5p+x4p)*w1/2,(Ypos+y5p+.008)*h1),ctx1.lineTo((x5p+x4p)*w1/2,(Ypos+y5p+.03)*h1),ctx1.stroke(),fontBase=800,fontSize=16,ctx1.font=getFont(),ctx1.fillStyle="black",ctx1.textAlign="center",x1p>.32&&(ctx1.fillText("Radius = "+toDecimalPrecision(10*y1p,4)+" m",x1p*w1/2,(Ypos+y1p+.06)*h1),ctx1.fillText("Cross-Section Area = A = "+toDecimalPrecision(Math.PI*y1p*y1p*100,4)+" m\xb2",x1p*w1/2,(Ypos+y1p+.08)*h1)),x1p<=.32&&(ctx1.fillText("Radius = "+toDecimalPrecision(10*y1p,4)+" m",.32*w1/2,(Ypos+y1p+.06)*h1),ctx1.fillText("Cross-Section Area = A₁ = "+toDecimalPrecision(Math.PI*y1p*y1p*100,4)+" m\xb2",.32*w1/2,(Ypos+y1p+.08)*h1)),ctx1.fillText("Radius = "+toDecimalPrecision(10*y3p,4)+" m",(x3p+x2p)*w1/2,(Ypos+y2p+.06)*h1),ctx1.fillText("Cross-Section Area = A₂ = "+toDecimalPrecision(Math.PI*y3p*y3p*100,4)+" m\xb2",(x3p+x2p)*w1/2,(Ypos+y2p+.08)*h1),x4p>.68&&ctx1.fillText("Radius = "+toDecimalPrecision(10*y5p,4)+" m",(x5p+.68)*w1/2,(Ypos+y5p+.06)*h1),x4p<.68&&ctx1.fillText("Radius = "+toDecimalPrecision(10*y5p,4)+" m",(x5p+x4p)*w1/2,(Ypos+y5p+.06)*h1),x4p>.68&&ctx1.fillText("Cross-Section Area = A₁ = "+toDecimalPrecision(Math.PI*y5p*y5p*100,4)+" m\xb2",(x5p+.68)*w1/2,(Ypos+y5p+.08)*h1),x4p<.68&&ctx1.fillText("Cross-Section Area = A₁ = "+toDecimalPrecision(Math.PI*y5p*y5p*100,4)+" m\xb2",(x5p+x4p)*w1/2,(Ypos+y5p+.08)*h1),ctx1.font="bold "+getFont(),ctx1.fillStyle="red",x1p>.32&&ctx1.fillText("Speed = v₁ = "+fast1+" m/s",x1p*w1/2,(Ypos+y1p+.105)*h1),x1p<=.32&&ctx1.fillText("Speed = v₁ = "+fast1+" m/s",.32*w1/2,(Ypos+y1p+.105)*h1),ctx1.fillText("Speed = v₂ = "+fast3+" m/s",(x3p+x2p)*w1/2,(Ypos+y2p+.105)*h1),x4p>.68&&ctx1.fillText("Speed = v₁ = "+fast1+" m/s",(x5p+.68)*w1/2,(Ypos+y5p+.105)*h1),x4p<.68&&ctx1.fillText("Speed = v₁ = "+fast1+" m/s",(x5p+x4p)*w1/2,(Ypos+y5p+.105)*h1),fontBase=800,fontSize=16,ctx1.font=getFont(),ctx1.fillStyle="black",ctx1.textAlign="center"),!0==showstreamlines&&0!=flowrate){ctx1.lineWidth=1,ctx1.strokeStyle="darkorange",ctx1.fillStyle="darkorange";for(let t=-.8;t<1;t+=.2)ctx1.beginPath(),ctx1.moveTo(0,(Ypos-t*y1p)*w1),ctx1.lineTo(x1p*w1,(Ypos-t*y1p)*w1),ctx1.moveTo(x2p*w1,(Ypos-t*y2p)*w1),ctx1.lineTo(x3p*w1,(Ypos-t*y2p)*w1),ctx1.moveTo(x4p*w1,(Ypos-t*y4p)*w1),ctx1.lineTo(w1,(Ypos-t*y4p)*w1),ctx1.stroke();let e=0;flowrate>0&&(e=.02),flowrate<0&&(e=-.02);for(let _=-.8;_<1;_+=.2)ctx1.beginPath(),ctx1.moveTo(x1p/2*w1,(Ypos-.008-_*y1p)*w1),ctx1.lineTo((x1p/2+e)*w1,(Ypos-_*y1p)*w1),ctx1.lineTo(x1p/2*w1,(Ypos+.008-_*y1p)*w1),ctx1.moveTo((x2p+x3p)/2*w1,(Ypos-.008-_*y3p)*w1),ctx1.lineTo(((x2p+x3p)/2+e)*w1,(Ypos-_*y3p)*w1),ctx1.lineTo((x2p+x3p)/2*w1,(Ypos+.008-_*y3p)*w1),ctx1.moveTo((x4p+1)/2*w1,(Ypos-.008-_*y4p)*w1),ctx1.lineTo(((x4p+1)/2+e)*w1,(Ypos-_*y4p)*w1),ctx1.lineTo((x4p+1)/2*w1,(Ypos+.008-_*y4p)*w1),ctx1.fill(),ctx1.closePath(),ctx1.stroke();for(let o=-.8;o<1;o+=.2)ctx1.beginPath(),ctx1.moveTo(x1p*w1,(Ypos-o*y1p)*w1),ctx1.bezierCurveTo((x1p+x2p)*w1/2,(Ypos-o*y1p)*w1,(x1p+x2p)*w1/2,(Ypos-o*y2p)*w1,x2p*w1,(Ypos-o*y2p)*w1),ctx1.moveTo(x3p*w1,(Ypos-o*y3p)*w1),ctx1.bezierCurveTo((x3p+x4p)*w1/2,(Ypos-o*y3p)*w1,(x3p+x4p)*w1/2,(Ypos-o*y4p)*w1,x4p*w1,(Ypos-o*y4p)*w1),ctx1.stroke()}}function drawTheSim(){ctx1.clearRect(0,0,w1,h1),ctx1.closePath(),!1==showinfo&&(document.getElementById("infocontainerid").style.display="none",document.getElementById("mainCanvas").style.zIndex="+1",document.getElementById("mainCanvas").style.display="inline"),!0==showinfo&&(document.getElementById("infocontainerid").style.display="inline",document.getElementById("mainCanvas").style.zIndex="-1",document.getElementById("mainCanvas").style.display="none"),!1==showinfo2&&(document.getElementById("infocontainerid2").style.display="none",document.getElementById("mainCanvas").style.zIndex="+1",document.getElementById("mainCanvas").style.display="inline"),!0==showinfo2&&(document.getElementById("infocontainerid2").style.display="inline",document.getElementById("mainCanvas").style.zIndex="-1",document.getElementById("mainCanvas").style.display="none"),ctx1.lineWidth=.003*w1,ctx1.strokeStyle="black",ctx1.beginPath(),ctx1.rect(0,0,w1,h1),ctx1.stroke(),ctx1.closePath(),pressure3=pressure1+density*(speed1=.1*Math.abs(flowrate)/(Math.PI*y1p*y1p))*speed1/2-density*(speed3=.1*Math.abs(flowrate)/(Math.PI*y3p*y3p))*speed3/2,deltapressure=pressure1-pressure3,pressureheight1=.1*pressure1/(density*grav),pressureheight3=.1*pressure3/(density*grav),ctx1.beginPath(),ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue",ctx1.fillRect(w1*x1p/2-.015*w1,h1*(Ypos-y1p),.03*w1,-((pressureheight1-y1p)*w1)),ctx1.fill(),ctx1.globalAlpha=1,ctx1.beginPath(),ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue",ctx1.fillRect(w1*((x3p+x2p)/2)-.015*w1,h1*(Ypos-y3p),.03*w1,-((pressureheight3-y3p)*w1)),ctx1.fill(),ctx1.globalAlpha=1,ctx1.beginPath(),ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue",ctx1.fillRect(w1*((x4p+1)/2)-.015*w1,h1*(Ypos-y1p),.03*w1,-((pressureheight1-y1p)*w1)),ctx1.fill(),ctx1.globalAlpha=1,ctx1.strokeStyle="royalblue",ctx1.beginPath(),ctx1.moveTo(w1*x1p/2-.015*w1,h1*(Ypos-pressureheight1)),ctx1.lineTo(w1*x1p/2+.015*w1,h1*(Ypos-pressureheight1)),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.moveTo(w1*(x3p+x2p)/2-.015*w1,h1*(Ypos-pressureheight3)),ctx1.lineTo(w1*(x3p+x2p)/2+.015*w1,h1*(Ypos-pressureheight3)),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.moveTo(w1*(x4p+1)/2-.015*w1,h1*(Ypos-pressureheight1)),ctx1.lineTo(w1*(x4p+1)/2+.015*w1,h1*(Ypos-pressureheight1)),ctx1.stroke(),ctx1.closePath(),ctx1.strokeStyle="black",ctx1.lineWidth=.005*w1,ctx1.beginPath(),ctx1.moveTo(0,h1*(Ypos-y1p)),ctx1.lineTo(w1*x1p/2-.015*w1,h1*(Ypos-y1p)),ctx1.lineTo(w1*x1p/2-.015*w1,0),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.moveTo(w1*x1p/2+.015*w1,h1*(Ypos-y1p)),ctx1.lineTo(w1*x1p/2+.015*w1,0),ctx1.lineTo(w1*x1p/2+.015*w1,h1*(Ypos-y1p)),ctx1.lineTo(w1*x1p,h1*(Ypos-y1p)),ctx1.lineTo(w1*x2p,h1*(Ypos-y2p)),ctx1.lineTo(w1*x2p,h1*(Ypos-y2p)),ctx1.lineTo(w1*((x3p+x2p)/2)-.015*w1,h1*(Ypos-y3p)),ctx1.lineTo(w1*((x3p+x2p)/2)-.015*w1,0),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.moveTo(w1*((x3p+x2p)/2)+.015*w1,h1*(Ypos-y3p)),ctx1.lineTo(w1*((x3p+x2p)/2)+.015*w1,0),ctx1.lineTo(w1*((x3p+x2p)/2)+.015*w1,h1*(Ypos-y3p)),ctx1.lineTo(w1*x3p,h1*(Ypos-y3p)),ctx1.lineTo(w1*x4p,h1*(Ypos-y4p)),ctx1.lineTo(w1*((x4p+1)/2)-.015*w1,h1*(Ypos-y4p)),ctx1.lineTo(w1*((x4p+1)/2)-.015*w1,0),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.moveTo(w1*((x4p+1)/2)+.015*w1,h1*(Ypos-y4p)),ctx1.lineTo(w1*((x4p+1)/2)+.015*w1,0),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.moveTo(w1*((x4p+1)/2)+.015*w1,h1*(Ypos-y4p)),ctx1.lineTo(w1,h1*(Ypos-y4p)),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.moveTo(0,h1*(Ypos+y1p)),ctx1.lineTo(w1*x1p,h1*(Ypos+y1p)),ctx1.lineTo(w1*x2p,h1*(Ypos+y2p)),ctx1.lineTo(w1*x3p,h1*(Ypos+y3p)),ctx1.lineTo(w1*x4p,h1*(Ypos+y4p)),ctx1.lineTo(w1,h1*(Ypos+y4p)),ctx1.stroke(),ctx1.closePath(),ctx1.beginPath(),ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue",ctx1.fillRect(0*w1,(Ypos-y1p)*h1,x1p*w1,2*y1p*h1),ctx1.fill(),ctx1.globalAlpha=1,ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue";let t=new Path2D;t.moveTo(x1p*w1,(Ypos-y1p)*h1),t.lineTo(x2p*w1,(Ypos-y2p)*h1),t.lineTo(x2p*w1,(Ypos+y2p)*h1),t.lineTo(x1p*w1,(Ypos+y1p)*h1),t.lineTo(x1p*w1,(Ypos-y1p)*h1),t.closePath(),ctx1.fillStyle="lightblue",ctx1.fill(t,"evenodd"),ctx1.globalAlpha=1,ctx1.beginPath(),ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue",ctx1.fillRect(x2p*w1,(Ypos-y3p)*h1,(x3p-x2p)*w1,2*y3p*h1),ctx1.fill(),ctx1.globalAlpha=1,ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue";let e=new Path2D;if(e.moveTo(x3p*w1,(Ypos-y3p)*h1),e.lineTo(x4p*w1,(Ypos-y4p)*h1),e.lineTo(x4p*w1,(Ypos+y4p)*h1),e.lineTo(x3p*w1,(Ypos+y3p)*h1),e.lineTo(x3p*w1,(Ypos-y3p)*h1),e.closePath(),ctx1.fillStyle="lightblue",ctx1.fill(e,"evenodd"),ctx1.globalAlpha=1,ctx1.beginPath(),ctx1.globalAlpha=alphanum1,ctx1.fillStyle="lightblue",ctx1.fillRect(x4p*w1,(Ypos-y5p)*h1,(x5p-x4p)*w1,2*y5p*h1),ctx1.fill(),ctx1.globalAlpha=1,xs1=cvol/(Math.PI*y1p*y1p),xs3=cvol/(Math.PI*y3p*y3p),xs5=cvol/(Math.PI*y5p*y5p),firstchunk(),ctx1.globalAlpha=1,ctx1.beginPath(),ctx1.lineWidth=.5,ctx1.fillStyle="lightgreen",ctx1.strokeStyle="black",ctx1.ellipse(axpos,(y1p+Ypos)*w1,.02*w1,.02*w1,0,0,2*Math.PI),ctx1.stroke(),ctx1.fill(),!1==leftdangletouched&&(fontBase=1600,fontSize=40,ctx1.font="bold "+getFont(),ctx1.fillStyle="green",ctx1.textAlign="left",ctx1.textBaseline="bottom",ctx1.fillText("Drag me!",bxpos+.02*w1,.99*bypos)),ctx1.fillStyle="lightgreen",ctx1.beginPath(),ctx1.ellipse(bxpos,(y2p+Ypos)*w1,.02*w1,.02*w1,0,0,2*Math.PI),ctx1.stroke(),ctx1.fill(),ctx1.beginPath(),ctx1.ellipse(cxpos,(y3p+Ypos)*w1,.02*w1,.02*w1,0,0,2*Math.PI),ctx1.stroke(),ctx1.fill(),ctx1.beginPath(),ctx1.ellipse(dxpos,(y4p+Ypos)*w1,.02*w1,.02*w1,0,0,2*Math.PI),ctx1.stroke(),ctx1.fill(),ctx1.strokeStyle="black",ctx1.lineWidth=.005*w1,ctx1.beginPath(),ctx1.ellipse(x1p*w1,Ypos*h1,y1p*h1*.15,y1p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.lineWidth=.0015*w1,ctx1.setLineDash([5,5]),ctx1.beginPath(),ctx1.ellipse(x1p*w1,Ypos*h1,y1p*h1*.15,y1p*h1,0,-.5*Math.PI,.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.setLineDash([]),ctx1.lineWidth=.005*w1,ctx1.beginPath(),ctx1.ellipse(x2p*w1,Ypos*h1,y2p*h1*.14,y2p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.lineWidth=.0015*w1,ctx1.setLineDash([5,5]),ctx1.beginPath(),ctx1.ellipse(x2p*w1,Ypos*h1,y2p*h1*.14,y2p*h1,0,-.5*Math.PI,.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.setLineDash([]),ctx1.lineWidth=.005*w1,ctx1.beginPath(),ctx1.ellipse(x3p*w1,Ypos*h1,y3p*h1*.13,y3p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.lineWidth=.0015*w1,ctx1.setLineDash([5,5]),ctx1.beginPath(),ctx1.ellipse(x3p*w1,Ypos*h1,y3p*h1*.13,y3p*h1,0,-.5*Math.PI,.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.setLineDash([]),ctx1.lineWidth=.005*w1,ctx1.beginPath(),ctx1.ellipse(x4p*w1,Ypos*h1,y4p*h1*.12,y4p*h1,0,.5*Math.PI,-.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.lineWidth=.0015*w1,ctx1.setLineDash([5,5]),ctx1.beginPath(),ctx1.ellipse(x4p*w1,Ypos*h1,y4p*h1*.12,y4p*h1,0,-.5*Math.PI,.5*Math.PI),ctx1.stroke(),ctx1.closePath(),ctx1.setLineDash([]),!0==showdimensions&&(ctx1.strokeStyle="blue",ctx1.lineWidth=.0015*w1,ctx1.setLineDash([5,5]),ctx1.beginPath(),ctx1.moveTo(0,Ypos*h1),ctx1.lineTo(w1,Ypos*h1),ctx1.stroke(),ctx1.closePath(),ctx1.setLineDash([])),ctx1.fillStyle="yellow",ctx1.beginPath(),ctx1.ellipse(w1*x1p/2,Ypos*h1,.015*w1,.015*w1,0,0,2*Math.PI),ctx1.closePath(),ctx1.ellipse(w1*(x2p+x3p)/2,Ypos*h1,.015*w1,.015*w1,0,0,2*Math.PI),ctx1.closePath(),ctx1.ellipse(w1*(x4p+1)/2,Ypos*h1,.015*w1,.015*w1,0,0,2*Math.PI),ctx1.closePath(),ctx1.fill(),!0==showdimensions&&(ctx1.fillStyle="gray",ctx1.beginPath(),ctx1.ellipse(w1*x1p/2+.04*w1,Ypos*h1,.01*w1,.01*w1,0,0,2*Math.PI),ctx1.closePath(),ctx1.ellipse(w1*(x2p+x3p)/2-.04*w1,Ypos*h1,.01*w1,.01*w1,0,0,2*Math.PI),ctx1.closePath(),ctx1.fill(),ctx1.beginPath(),ctx1.ellipse(w1*x1p/2+.04*w1,h1*(Ypos-pressureheight1),.01*w1,.01*w1,0,0,2*Math.PI),ctx1.closePath(),ctx1.ellipse(w1*(x2p+x3p)/2-.04*w1,h1*(Ypos-pressureheight3),.01*w1,.01*w1,0,0,2*Math.PI),ctx1.closePath(),ctx1.fill(),drawArrow(ctx1,w1*x1p/2+.04*w1,Ypos*h1,w1*x1p/2+.04*w1,h1*(Ypos-pressureheight1),.0015*w1,"blue"),drawArrow(ctx1,w1*x1p/2+.04*w1,h1*(Ypos-pressureheight1),w1*x1p/2+.04*w1,Ypos*h1,.0015*w1,"blue"),drawArrow(ctx1,w1*(x2p+x3p)/2-.04*w1,Ypos*h1,w1*(x2p+x3p)/2-.04*w1,h1*(Ypos-pressureheight3),.0015*w1,"blue"),drawArrow(ctx1,w1*(x2p+x3p)/2-.04*w1,h1*(Ypos-pressureheight3),w1*(x2p+x3p)/2-.04*w1,Ypos*h1,.0015*w1,"blue")),ctx1.fillStyle="black",ctx1.textAlign="center",ctx1.textBaseline="middle",fontBase=800,fontSize=25,ctx1.font="bold "+getFont(),ctx1.fillText("1",w1*x1p/2,Ypos*h1),ctx1.fillText("2",w1*(x2p+x3p)/2,Ypos*h1),ctx1.fillText("1",w1*(x4p+1)/2,Ypos*h1),!0==showdimensions){Math.abs(pressureheight1-pressureheight3)*h1>40&&(drawArrow(ctx1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight1)*h1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight3)*h1,.002*w1,"green"),drawArrow(ctx1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight3)*h1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight1)*h1,.002*w1,"green")),Math.abs(pressureheight1-pressureheight3)*h1<40&&(drawArrow(ctx1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight3)*h1+.05*w1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight3)*h1,.002*w1,"green"),drawArrow(ctx1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight1)*h1-.05*w1,w1*(x1p/2+(x2p+x3p)/2)/2,(Ypos-pressureheight1)*h1,.002*w1,"green")),ctx1.setLineDash([5,5]),ctx1.strokeStyle="blue",ctx1.lineWidth=.0015*w1,ctx1.beginPath(),ctx1.moveTo(w1*x1p/2+.02*w1,h1*(Ypos-pressureheight1)),ctx1.lineTo(w1*(x4p+1)/2-.02*w1,h1*(Ypos-pressureheight1)),ctx1.stroke(),ctx1.closePath(),ctx1.strokeStyle="blue",ctx1.lineWidth=.0015*w1,ctx1.beginPath(),ctx1.moveTo(w1*(x1p/2+(x2p+x3p)/2)/2,h1*(Ypos-pressureheight3)),ctx1.lineTo(w1*(x2p+x3p)/2-.02*w1,h1*(Ypos-pressureheight3)),ctx1.stroke(),ctx1.closePath(),ctx1.setLineDash([]),fontBase=1600,fontSize=40,ctx1.font=getFont(),ctx1.fillStyle="white",ctx1.textBaseline="middle",ctx1.textAlign="left";let _=ctx1.measureText((10*pressureheight1).toFixed(3).toString()+" m").width,o=ctx1.measureText((10*pressureheight3).toFixed(3).toString()+" m").width,s=ctx1.measureText(((pressureheight3+pressureheight1)/.2).toFixed(3).toString()+" m").width;ctx1.globalAlpha=.6,ctx1.fillRect(w1*x1p/2-.05*w1,h1*(Ypos-pressureheight1/2)-.015*w1,_,.03*w1),ctx1.fill(),ctx1.fillRect(w1*(x2p+x3p)/2-.05*w1,h1*(Ypos-pressureheight3/2)-.015*w1,-o,.03*w1),ctx1.fill(),ctx1.fillRect(w1*(x1p/2+(x2p+x3p)/2)/2-.01*w1,h1*(Ypos-(pressureheight3+pressureheight1)/2)-.015*w1,-s,.03*w1),ctx1.fill(),ctx1.globalAlpha=1,ctx1.fillStyle="black",ctx1.fillText((10*pressureheight1).toFixed(3)+" m",w1*x1p/2-.05*w1,h1*(Ypos-pressureheight1/2)),ctx1.textAlign="right",ctx1.fillText((10*pressureheight3).toFixed(3)+" m",w1*(x2p+x3p)/2-.05*w1,h1*(Ypos-pressureheight3/2)),ctx1.textAlign="right",ctx1.fillStyle="green",ctx1.fillText(((pressureheight1-pressureheight3)*10).toFixed(3)+" m",w1*(x1p/2+(x2p+x3p)/2)/2-.01*w1,h1*(Ypos-(pressureheight3+pressureheight1)/2)),ctx1.textAlign="center",ctx1.fillStyle="black",ctx1.textBaseline="top"}csa1=toDecimalPrecision(Math.PI*y1p*y1p*100,4),csa3=toDecimalPrecision(Math.PI*y3p*y3p*100,4),csa5=toDecimalPrecision(Math.PI*y5p*y5p*100,4),fast1=toDecimalPrecision(.1*flowrate/(Math.PI*y1p*y1p),4),fast3=toDecimalPrecision(.1*flowrate/(Math.PI*y3p*y3p),4),fast5=toDecimalPrecision(.1*flowrate/(Math.PI*y5p*y5p),4),flow1=toDecimalPrecision(Math.PI*y1p*y1p*100*flowrate*.1/(Math.PI*y1p*y1p),4),flow3=toDecimalPrecision(Math.PI*y3p*y3p*100*flowrate*.1/(Math.PI*y3p*y3p),4),flow5=toDecimalPrecision(Math.PI*y5p*y5p*100*flowrate*.1/(Math.PI*y5p*y5p),4),htmltextchange(),ctx1.textBaseline="bottom",ctx1.fillStyle="lightyellow",ctx1.globalAlpha=.7,!0==showverneq&&ctx1.fillRect(.4*w1,.1*h1,.59*w1,.15*h1),!0==showconteq&&ctx1.fillRect(.4*w1,.01*h1,.59*w1,.1*h1),!0==showheighteq&&ctx1.fillRect(.4*w1,.25*h1,.59*w1,.12*h1),ctx1.globalAlpha=1,!0==showconteq&&(fontBase=800,fontSize=20,ctx1.font="bold "+getFont(),ctx1.textAlign="center",ctx1.textBaseline="top",ctx1.fillStyle="orangered",ctx1.fillText(" A₁ v₁  =  A₂ v₂  =   A₃ v₃ ",w1*((.39+1)/2),.015*h1),ctx1.fillStyle="black",fontBase=800,fontSize=15,ctx1.font=getFont(),ctx1.fillText(csa1+" m\xb2 x "+fast1+" m/s = "+csa3+" m\xb2 x "+fast3+" m/s = "+csa5+" m\xb2 x "+fast5+" m/s",w1*((.39+1)/2),.05*h1),ctx1.fillText(flow1+" m\xb3/s  = "+flow3+" m\xb3/s  = "+flow5+" m\xb3/s ",w1*((.39+1)/2),.08*h1)),!0==showverneq&&(fontBase=800,fontSize=33,ctx1.font="bold "+getFont(),ctx1.textAlign="center",ctx1.textBaseline="top",ctx1.fillStyle="black",ctx1.fillText(" P₁ + \xbdρv₁\xb2 =  P₂ + \xbdρv₂\xb2 ",w1*((.39+1)/2),.11*h1),ctx1.fillStyle="black",fontBase=800,fontSize=15,ctx1.font=getFont(),ctx1.fillText(pressure1.toFixed(3)+" + (\xbd x "+density+" x "+speed1.toFixed(3)+"\xb2) = "+pressure3.toFixed(3)+" + (\xbd x "+density+" x "+speed3.toFixed(3)+"\xb2)",w1*((.39+1)/2),.16*h1),ctx1.fillText(pressure1.toFixed(3)+" + "+(.5*density*speed1*speed1).toFixed(3)+" = "+pressure3.toFixed(3)+" + "+(.5*density*speed3*speed3).toFixed(3),w1*((.39+1)/2),.19*h1),ctx1.fillText((pressure1+.5*density*speed1*speed1).toFixed(3)+" N/m\xb2 = "+(pressure3+.5*density*speed3*speed3).toFixed(3)+" N/m\xb2",w1*((.39+1)/2),.22*h1)),!0==showheighteq&&(fontBase=800,fontSize=20,ctx1.font="bold "+getFont(),ctx1.textAlign="center",ctx1.textBaseline="top",ctx1.fillStyle="orangered",ctx1.fillText(" Pressure₁ = ρgh₁            Pressure₂ = ρgh₂",w1*((.39+1)/2),.25*h1),ctx1.fillStyle="black",fontBase=800,fontSize=15,ctx1.font=getFont(),ctx1.fillText(pressure1.toFixed(3)+" = "+density+" x "+grav+" x h₁             "+pressure3.toFixed(3)+" = "+density+" x "+grav+" x h₂",w1*((.39+1)/2),.28*h1),ctx1.fillText("h₁ = "+pressure1.toFixed(3)+" / ("+density+" x "+grav+")            h₂ = "+pressure3.toFixed(3)+" / ("+density+" x "+grav+")",w1*((.39+1)/2),.31*h1),ctx1.fillText("h₁ = "+(pressure1/(density*grav)).toFixed(3)+" N/m\xb2            h₂ = "+(pressure3/(density*grav)).toFixed(3)+" N/m\xb2",w1*((.39+1)/2),.34*h1)),fontBase=800,fontSize=30,ctx1.font=getFont(),ctx1.fillText("The Venturi Equation",w1/2,.95*h1)}function noinfo(){document.getElementById("infocontainerid").style.display="none",document.getElementById("mainCanvas").style.zIndex="+1",document.getElementById("mainCanvas").style.display="inline",document.getElementById("showinfoid").checked=!1,showinfo=!1}function draw(){ctx1.canvas.width=window.innerHeight,ctx1.canvas.height=window.innerHeight,w1=canvas1.width,h1=canvas1.height,window.innerHeight/window.innerWidth>.67&&(ctx1.canvas.width=.68*window.innerWidth,ctx1.canvas.height=.68*window.innerWidth,w1=canvas1.width,h1=canvas1.height)}function updateAnimation(){drawTheSim()}function frame(){updateAnimation(),requestAnimationFrame(frame)}document.body.addEventListener("mouseup",mouseUp,!1),document.body.addEventListener("touchcancel",touchUp,!1),document.getElementById("infocontainerid").style.display="none",document.getElementById("infocontainerid2").style.display="none",cvolslider.oninput=function(){cvol=Number(cvolslider.value).valueOf(),htmltextchange()},rateslider.oninput=function(){flowrate=Number(rateslider.value).valueOf(),htmltextchange()},densityslider.oninput=function(){density=Number(densityslider.value).valueOf(),calcdeltapressure(),htmltextchange(),alphanum1=(density-700)/650,alphanum2=(density-800)/400},gravslider.oninput=function(){grav=Number(gravslider.value).valueOf(),calcdeltapressure(),htmltextchange()},p1slider.oninput=function(){pressure1=Number(p1slider.value).valueOf(),document.getElementById("p3Range").value=pressure3,htmltextchange()},p3slider.oninput=function(){pressure3=Number(p3slider.value).valueOf();let t=.5*density*(speed1=.1*Math.abs(flowrate)/(Math.PI*y1p*y1p))*speed1;deltapressure=-(.5*density*(speed3=.1*Math.abs(flowrate)/(Math.PI*y3p*y3p))*speed3)+t,document.getElementById("p3Range").value=pressure3,pressure1=pressure3-deltapressure,document.getElementById("p1Range").value=pressure1,document.getElementById("p1Range").value=pressure1,htmltextchange()},canvas1.addEventListener("mousedown",mouseDown,!1),canvas1.addEventListener("mousemove",mouseXY,!1),canvas1.addEventListener("touchstart",touchDown,!1),canvas1.addEventListener("touchmove",touchXY,!0),canvas1.addEventListener("touchend",touchUp,!1),ctx1.canvas.addEventListener("click",t=>{!0==amousedownongraph&&(alastmousedownongraph=!0),!0==bmousedownongraph&&(blastmousedownongraph=!0),!0==cmousedownongraph&&(clastmousedownongraph=!0),!0==dmousedownongraph&&(dlastmousedownongraph=!0),amousedownongraph=!1,bmousedownongraph=!1,cmousedownongraph=!1,dmousedownongraph=!1}),document.getElementById("stopButton").style.background="green",!1==leftdangletouched&&.2==flowrate&&.02==cvol&&(document.getElementById("resetButton").style.background="blue"),(!0==leftdangletouched||.2!=flowrate||.02!=cvol)&&(document.getElementById("resetButton").style.background="gray"),document.getElementById("stopButton").style.background="green",document.getElementById("resetButton").style.background="blue",document.getElementById("slowButton").style.background="green",document.getElementById("infoButton").style.background="lightgreen",document.getElementById("infoButton").style.color="magenta",document.getElementById("infoButton2").style.background="lightyellow",document.getElementById("infoButton2").style.color="magenta",window.onresize=function(){axpos=x1p*w1,aypos=(Ypos+y1p)*w1,bxpos=x2p*w1,bypos=(Ypos+y2p)*w1,cxpos=x3p*w1,cypos=(Ypos+y3p)*w1,dxpos=x4p*w1,dypos=(Ypos+y4p)*w1,draw(),drawTheSim(),ctx1.canvas.width=window.innerHeight,ctx1.canvas.height=window.innerHeight,w1=canvas1.width,h1=canvas1.height,window.innerHeight/window.innerWidth>.67&&(ctx1.canvas.width=.68*window.innerWidth,ctx1.canvas.height=.68*window.innerWidth,w1=canvas1.width,h1=canvas1.height),document.getElementById("smallbuttonsid").style.width=.68*window.innerWidth},document.getElementById("slowButton").onmousedown=function(){document.getElementById("stopButton").style.background="green",stop=!1,!1==(slowmo=!slowmo)&&(tickrate=4e-4,stop=!1,document.getElementById("slowButton").style.background="green"),!0==slowmo&&(tickrate=1e-4,document.getElementById("slowButton").style.background="orange")},document.getElementById("stopButton").onmousedown=function(){!1==(stop=!stop)&&!1==slowmo&&(tickrate=4e-4,document.getElementById("stopButton").style.background="green"),!1==stop&&!0==slowmo&&(tickrate=1e-4,document.getElementById("stopButton").style.background="green"),!0==stop&&(tickrate=0,document.getElementById("stopButton").style.background="orange")},document.getElementById("infoButton").onmousedown=function(){showainfoclicked()},document.getElementById("infoButton2").onmousedown=function(){showainfoclicked2()},document.getElementById("resetButton").onmousedown=function(){document.getElementById("slowButton").style.background="green",document.getElementById("stopButton").style.background="green",stop=!1,slowmo=!1,tickrate=4e-4,Ypos=.65,x1p=.16,y1p=.2,x2p=.22,y2p=.06,x3p=.45,y3p=.06,x4p=.6,x5p=1,y5p=y4p=.2,axpos=x1p*w1,aypos=(Ypos+y1p)*w1,bxpos=x2p*w1,bypos=(Ypos+y2p)*w1,cxpos=x3p*w1,cypos=(Ypos+y3p)*w1,dxpos=x4p*w1,dypos=(Ypos+y4p)*w1,leftdangletouched=!1,document.getElementById("showinfoid").checked=!1,showradius=!0,showarea=!0,showspeed=!0,showwidth=!0,showinfo=!1,document.getElementById("infocontainerid").style.display="none",document.getElementById("mainCanvas").style.zIndex="+1",document.getElementById("mainCanvas").style.display="inline",flowrate=.6,cvol=.02,htmltextchange(),document.getElementById("rateRange").value=.2,document.getElementById("cvolRange").value=cvol},draw(),ctx1.lineJoin="bevel",Ypos=.65,x1p=.16,y1p=.2,x2p=.22,y2p=.06,x3p=.45,y3p=.06,x4p=.6,x5p=1,y5p=y4p=.2,axpos=x1p*w1,aypos=(Ypos+y1p)*w1,bxpos=x2p*w1,bypos=(Ypos+y2p)*w1,cxpos=x3p*w1,cypos=(Ypos+y3p)*w1,dxpos=x4p*w1,dypos=(Ypos+y4p)*w1,requestAnimationFrame(frame);

</script>
</body>
</html>
